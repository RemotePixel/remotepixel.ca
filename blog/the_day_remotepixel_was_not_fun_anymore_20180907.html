<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta name="description" content="RemotePixel The day RemotePixel wasn't fun anymore">
	<meta name="author" content="Vincent Sarago">

	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:site" content="@RemotePixel" />
	<meta name="twitter:title" content="Blog | The day RemotePixel wasn't fun anymore" />
	<meta name="twitter:description" content="Blog | The day RemotePixel wasn't fun anymore" />
	<meta name="twitter:creator" content="@_VincentS_" />
	<meta name="twitter:image:src" content="https://remotepixel.ca/blog/img/notfun_20180907/top.jpg" />

	<meta property="og:title" content="Blog |The day RemotePixel wasn't fun anymore" />
	<meta property="og:url" content="https://www.remotepixel.ca/blog/the_day_remotepixel_was_not_fun_anymore_20180907.html" />
	<meta property="og:image" content="https://remotepixel.ca/blog/img/notfun_20180907/top.jpg" />
	<meta property="og:description" content="Blog | The day RemotePixel wasn't fun anymore" />
	<meta property="og:site_name" content="Remote Pixel" />

	<title>Blog | The day RemotePixel wasn't fun anymore</title>

	<!-- Bootstrap Core CSS -->
	<link href="/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link href="/css/rpix_general.min.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link href="/css/rpix_blogpost.min.css" rel="stylesheet">

	<!-- Custom Fonts -->
	<link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	    <![endif]-->
	<style>
		.topimage {
	    background: url(/blog/img/notfun_20180907/top.jpg) no-repeat bottom center scroll;
	    background-position: center;
	    background-size: cover;
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
		}
		.post-content{
			padding-top: 15px;
		}

	</style>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-60678866-1', 'auto');
        ga('send', 'pageview');
    </script>
</head>

<body id="page-top" data-target=".navbar-fixed-top">
	<!-- Navigation -->
	<nav class="navbar navbar-custom navbar-fixed-top top-nav-collapse" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
					<i class="fa fa-bars" style="color: #fff"></i>
				</button>
				<a class="navbar-brand page-scroll" href="/blog/index.html#notfun">
					<i class="fa fa-play-circle"></i>
					<span class="light">back to Blog</span>
				</a>
			</div>
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse navbar-right navbar-main-collapse">
				<ul class="nav navbar-nav">
					<!-- Hidden li included to remove active class from about link when scrolled up past about section -->
					<li class="hidden"><a href="#page-top"></a></li>
					<li><a class="glyphicon glyphicon-home" href="/"></a></li>
          <li><a href="/projects/index.html">projects</a></li>
          <li><a href="/blog/index.html">Blog</a></li>
          <li><a href="/contact.html">Contact</a></li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container -->
	</nav>

    <a id="back-to-top" href="#page-top" class="display-none">
        <i class="fa fa-level-up"></i>
        back to top
    </a>

	<div class="entete-blog topimage">
		<div class="titre">
		    <h2>The day RemotePixel wasn't fun anymore</h2>
        </div>
		<div class="landsat_copyright">
			&copy; NASA MODIS Terra
		</div>
	</div>

	<div class="post-content">
    <div class="corps">

			<p>First, I'd like to appologize to everyone for shutting down <a href="https://remotepixel.ca" target="_blank">remotepixel.ca</a> without notice last Friday. This blog post will explain why I had not choice.</p>

			<p>Second, I need to re-introduce myself so the following will make more sense. My nane is <a href="https://www.linkedin.com/in/vincentsarago/" target="_blank">Vincent Sarago</a>, I'm the `OWNER` (read: `<strong>the only person working on it</strong>`) of this website.
			<a href="https://remotepixel.ca" target="_blank">Remotepixel.ca</a> started as <strong>PERSONAL PROJECT</strong> and will stay a hobby for my cold winter night (winter is quite long in Montreal, QC) and now I have a `real` <a href="https://www.mapbox.com/about/team/vincent-sarago//" target="_blank">job</a> that I love and keeps me busy during the week.</p>

			<h4>Remotepixel is Free... not to everyone</h4>

			<div class="row">
				<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">WTF my aws bill is up to 3k$ this month, I‚Äôm sorry but I‚Äôm shutting down <a href="https://t.co/aqc4TNnJoF">https://t.co/aqc4TNnJoF</a></p>&mdash; Remote Pixel (@RemotePixel) <a href="https://twitter.com/RemotePixel/status/1035609110635577344?ref_src=twsrc%5Etfw">August 31, 2018</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
			</div>

			<p>Remotepixel is not just a webpage, almost every project I worked on has one or more services (API) associated. I host <a href="https://remotepixel.ca" target="_blank">Remotepixel.ca</a> web pages and services on <a href="https://aws.amazon.com" target="_blank">Amazon Web Services</a> (AWS) platform and last week when I openned the `billing section` I had this nice surprise ‚òùÔ∏è.</p>
			<p>The bill was around 3 500 $ (4 510 $ CAD) üò±üò±üò±üò±üò±.</p>
			<p>My first reaction was to log off because I though I logged with my Mapbox credentials, but then the reallity was brutal, this was my own bill. At this point I had no choice but to shut down everything as fast as I could.</p>

			<img class="img-responsive" src="img/notfun_20180907/AWS_Monthly_report.jpg">
			<titre-img>RemotePixel's AWS cost in August</titre-img>

			<p>While I'm usually happy to support the cost of running remotepixel.ca (~100$/month), this was 3000% more than my usual bill, and way too high for my `happy to give it for free budget`.</p>

			<h4>What happened</h4>

			<p><del>Remotepixel was finally popular with thousand of thousand of people using it</del>.</p>

			<p>‚òùÔ∏è even with this possibility, AWS services are not that expensive, and google analytics quickly anwser this question: RemotePixel is still a `niche` with around 5000 users per month.</p>

			<img class="img-responsive" src="img/notfun_20180907/google_analytics.jpg">
			<titre-img>RemotePixel's 2018 Google analytics report.</titre-img>

			<p>So the web users are not to blame (no huge increate in users or in session duration), but there is something odd the billing is saying.</p>

			<img class="img-responsive" src="img/notfun_20180907/Lambda_July.jpg">
			<titre-img>AWS Lambda eu-central-1 usage in July</titre-img>

			<img class="img-responsive" src="img/notfun_20180907/Lambda_August.jpg">
			<titre-img>AWS Lambda eu-central-1 usage in August</titre-img>

			<p>RemotePixel's services are based on AWS Lambda which is a service that let you run python/node/java scripts without caring for a server (serverless).
				I'm running AWS Lambda functions in each region where I need to access data (eu-central-1 for Sentinel-2, us-west-2 for Landsat-8), so it's then easy to see if a specific dataset/services was used more.</p>

			<p>In the previous screenshots we can see that AWS lambda function in `eu-central-1` (sentinel-2 access) where called <strong>1.5 MILLION</strong> times more in august in comparison to july (which was also an expensive month ~180$). Note how the price for the other region didn't change much !!!</p>

			<p>But AWS Lambda pricing is cheap. This cost me `only` 290$. üòíüòíüòí We still need to explain for 3100 $.</p>

			<h5>GET/LIST</h5>

			<p>Remember my <a href="https://remotepixel.ca/blog/not_so_open_data_20180513.html" target="_blank">post</a> about Sentinel-2 S3 bucket moving to `requester-pays` ?
				Well this is now in place and we don't have to look too far to see the first consequence. If we look at my S3 cost in eu-central-1 the total is around 3000$ üéâ. </p>

			<img class="img-responsive" src="img/notfun_20180907/AWS_S3_GetList.jpg">
			<titre-img>S3 bill in eu-central-1</titre-img>

			<p>480 000 LIST + 950 000 GET request in one month üò±üò±üò±</p>

			<h5>Is this my fault ? Mostly</h5>

			<p>Because Sentinel-2 bucket is in `requester-pays` it means that if you have an application accessing the data running outside the `eu-central-1` region, you'll be charged with the data transfer cost.
				But RemotePixel services run in `eu-central-1` so it should be costless... Well that's not true and the previous screen shot tells you why. <strong>You don't pay for data transfert but you have to pay for every LIST/GET requests.</strong></p>

			<quote>In general, bucket owners pay for all Amazon S3 storage and data transfer costs associated with their bucket. A bucket owner, however, can configure a bucket to be a Requester Pays bucket. With Requester Pays buckets, the requester instead of the bucket owner pays the cost of the request and the data download from the bucket. The bucket owner always pays the cost of storing data.</quote>

			<titre-img><a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/RequesterPaysBuckets.html" target="_blank">Reuqester-pays doc</a></titre-img>

			<p>This is something I didn't though about, and because some of my services are doing a lot of LIST/GET, event with a normal usage, my AWS bill would have been high. My <a href="https://remotepixel.ca/blog/searchapi_20171211.html"> Search API</a> seems to be a really bad idea now.</p>

			<h5>Is this my fault ? <del>Mostly</del> Who's scrapping</h5>
			<p>The numbers don't lie, remotepixel.ca users didn't cause all of the bill increase but <strong>someone has been scrapping my services</strong>.</p>

			<p>Using some companies API is something, but <strong>abusing of a free service and/or scrapping is just not fair</strong>. Especially when I always try to publish the code of every service and web page I create.</p>

			<h4>Next</h4>

			<p>That's said, the GET/LIST numbers seems really odd and I'll need to deep dive on it (another blog post soon).<p>

			<li>Starting today remotepixel.ca will regain life again. I've updated services to be less expensive (thanks to <a href="https://www.sinergise.com" target="_blank">Sinergise</a>).
				That's said I had to deprecate some old project which I couldn't update/maintain, please checkout the <a href="https://remotepixel.ca/projects/" target="_blank">project page</a> for more info.</li>

			<li>Sentinel-2 is disabled in <a href="https://viewer.remotepixel.ca" target="_blank">viewer.remotepixel.ca</a>.</li>

			<li>About the august bill, I've reached out AWS and the bill should be forgiven ü§û.</li>

			<h4>TERM OF SERVICE</h4>
			<p>Since I shut down, I've received a lot of support from different individuals or companies, I might not answered everyone but be sure that I've seen it.</p>
			<p>As usual I also received mail from companies complaining about the website/services being down üòí.</p>

			<p>So let's be clear again, this is a <strong>personal project</strong> and:</p>
				<li><strong>if you are making any kind of money using it you should stop right now</strong>.</li>
				<li><strong>You may not use it for any unlawful purpose.</strong>.</li>
				<li><strong>You may not use it in any manner that could damage it</strong>.</li>

		</div>

	    <ul class="info-blogpost">
		    <li>Date: September 2018</li>
				<li>Category: RemotePixel</li>
			</ul>

        <!-- Footer -->
        <footer>
          <div class="text-center">
            <a id="twitter" class="sharebutt" href="" title="Share on Twitter" target="_blank">
              <i class="fa fa-twitter"></i>
            </a>

            <a id="linkedin" class="sharebutt" href="" title="Share on LinkedIn" target="_blank">
              <i class="fa fa-linkedin"></i>
            </a>

            <a id="facebook" class="sharebutt" href="" title="Share on Facebook" target="_blank">
              <i class="fa fa-facebook"></i>
            </a>
          </div>
        </footer>

	</div> <!-- /post-content -->

	<!-- jQuery -->
	<script src="/js/jquery.js"></script>
  <script src="/js/jquery.easing.min.js"></script>

	<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="/js/bootstrap.min.js"></script>

	<!-- general Theme JavaScript -->
	<script src="/js/rpix_blogpost.js"></script>
  <script>
    $( document ).ready(function() {
      $("#twitter").attr('href','http://twitter.com/share?text=' + document.title.replace('|', '%7C') + '&url=' + window.location.href + '&via=RemotePixel');
      $("#linkedin").attr('href','http://www.linkedin.com/shareArticle?mini=true&url=' + window.location.href + '&title='+ document.title + '&source=https://remotepixel.ca');
      $("#facebook").attr('href','https://www.facebook.com/sharer/sharer.php?u=' + window.location.href);
    });
  </script>
</body>
</html>
