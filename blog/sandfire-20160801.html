<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="#SandFire Sentinel 2 images">
	<meta name="author" content="Vincent Sarago">

	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:site" content="@RemotePixel" />
	<meta name="twitter:title" content="RemotePixel.ca" />
	<meta name="twitter:description" content="#SandFire Sentinel 2 images" />
	<meta name="twitter:creator" content="@_VincentS_" />
	<meta name="twitter:image:src" content="https://remotepixel.ca/blog/img/prev_sandfire.jpg" />

	<meta property="og:title" content="Remote Pixel | Projets" />
	<meta property="og:url" content="https://remotepixel.ca/blog/sandfire-20160801.html" />
	<meta property="og:image" content="https://remotepixel.ca/blog/img/prev_sandfire.jpg" />
	<meta property="og:description" content="#SandFire Sentinel 2 images" />
	<meta property="og:site_name" content="RemotePixel.ca" />

	<title>Blog | #SandFire Sentinel 2 images</title>

	<!-- Bootstrap Core CSS -->
	<link href="/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link href="/css/rpix_general.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link href="/css/rpix_blogpost.css" rel="stylesheet">
    <link href="/css/leaflet.css" rel="stylesheet">

	<!-- Custom Fonts -->
	<link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	    <![endif]-->

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-60678866-1', 'auto');
        ga('send', 'pageview');
    </script>

    <style>
        .post-content{
            height: 100%;
            padding-top: 0px;
            margin-top: 0px;
        }

        .post-content .corps{
            max-width: none;
            min-height: 400px;
            height: calc(100% - 75px);
            text-align: center;
            padding-top: 55px;
            margin-top: 0px;
			overflow-x: hidden;
        }
		.leaflet-control-layers{
			text-align: left;
		}

        .map{
            position: relative;
            height: 100%;
            width: 100%;
            margin: 0px;
        }
		.leaflet-control-attribution  a{
		    color: #000;
		}

    </style>

<body data-target=".navbar-fixed-top">

   	<!-- Navigation -->
   	<nav class="navbar navbar-custom navbar-fixed-top top-nav-collapse" role="navigation">
   		<div class="container">
   			<div class="navbar-header">
   				<button type="button" class="navbar-toggle" data-toggle="collapse"
   					data-target=".navbar-main-collapse">
   					<i class="fa fa-bars" style="color: #fff"></i>
   				</button>
   				<a class="navbar-brand page-scroll"
   					href="/blog/index.html#sandfire"> <i
                   class="fa fa-play-circle"></i> <span class="light">back to Blog</span></a>
   			</div>
   			<!-- Collect the nav links, forms, and other content for toggling -->
   			<div
   				class="collapse navbar-collapse navbar-right navbar-main-collapse">
   				<ul class="nav navbar-nav">
   					<!-- Hidden li included to remove active class from about link when scrolled up past about section -->
   					<li class="hidden"><a href="#page-top"></a></li>
                    <li><a class="glyphicon glyphicon-home" href="/"></a></li>
                    <li><a href="/projects/index.html">projects</a></li>
                    <li><a href="/blog/index.html">Blog</a></li>
                    <li><a href="/contact.html">Contact</a></li>
   				</ul>
   			</div>
   			<!-- /.navbar-collapse -->
   		</div>
   		<!-- /.container -->
   	</nav>

	<div class="post-content">
        <div class="corps">
            <div id="map" class="map"></div> <!-- Left Map -->
        </div>
		<!-- Footer -->
		<footer>
			<div class="text-center">
				<a id="twitter" class="sharebutt" href="" title="Share on Twitter" target="_blank">
					<i class="fa fa-twitter"></i>
				</a>

				<a id="linkedin" class="sharebutt" href="" title="Share on LinkedIn" target="_blank">
					<i class="fa fa-linkedin"></i>
				</a>

				<a id="facebook" class="sharebutt" href="" title="Share on Facebook" target="_blank">
					<i class="fa fa-facebook"></i>
				</a>

			</div>
		</footer>
    </div>

    <!-- Javascript Libraries -->
    <!--Respect the order-->
    <script src="/js/jquery.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
    <script src="/js/jquery.ui.touch-punch.min.js"></script>
	<script src="/js/jquery.beforeafter-map-2.02.min.js"></script>

    <script src="/js/leaflet.js"></script>

    <script>
        function init(){
		    var map = L.map('map', {
		        zoom: 1,
		        attributionControl: false,
		        zoomControl: false,
		        touchZoom: false,
		        inertia: false,
		        minZoom: 5,
		        maxZoom: 14,
	            center: [1,1]
		    });

	        L.control.zoom({position:'topright'}).addTo(map);
	        L.control.attribution({position:'bottomright'}).addTo(map);

			var osm_url = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
	        var attribution = '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>';

			L.tileLayer(osm_url).addTo(map);
	        L.tileLayer(osm_url, {id: 'MapID', attribution: attribution}).addTo(map);

		    var attribution = 'Sentinel-2A (2016-07-28) &copy Copernicus / ESA 2016';
            var nir = L.tileLayer('data/SandFire_July2016/S2_sandfire_28072016_NRG/{z}/{x}/{y}.png', {
                minZoom: 5,
                maxZoom: 14,
				maxNativeZoom: 14,
                zIndex: 0,
                bounds: ([[34.2773645556, -118.162379732], [34.496132663, -118.527130861]]),
                updateWhenIdle: false,
                attribution: attribution,
                tms: true
            }).addTo(map);

            var swir = L.tileLayer('data/SandFire_July2016/S2_sandfire_28072016_SWIR/{z}/{x}/{y}.png', {
                minZoom: 5,
                maxZoom: 14,
				maxNativeZoom: 14,
                zIndex: 0,
                bounds: ([[34.2813023453, -118.166911224], [34.4903547436, -118.521738]]),
                updateWhenIdle: false,
				attribution: attribution,
                tms: true
            });

	        map.setView([34.3867486093, -118.344755297], 11) //set view on the area

			////////////////////////////////////////////////////////////////////////////////
			var link = document.createElement('a');
			link.className = 'leaflet-bar-part';
			link.setAttribute("href", "https://s3-us-west-2.amazonaws.com/remotepixel/data/S2_sandfire_28072016_NRG.tif");
			link.setAttribute("title", "Download Full Resolution GeoTIFF");
			link.setAttribute("target", "_blank");
			var icn = document.createElement('i');
			icn.className = 'fa fa-download fa-lg';
			link.appendChild(icn);

			var grp = document.createElement('div');
			grp.className = 'leaflet-bar leaflet-control';
			grp.appendChild(link);

			var control = document.getElementsByClassName("leaflet-top leaflet-right");
			control[0].appendChild(grp.cloneNode(true));

			var myStyle = {
		            color: '#030f5e',
		            weight: 4,
		            opacity: 1,
		            fill: false,
		            fillOpacity: 0.65,
		            fillColor: '#5f9dee'
		    };

			var fire_boundary = new L.geoJson(null, {style: myStyle});
			fire_boundary.addTo(map);

			//MINES
		    $.getJSON('data/SandFire_July2016/sadnFireExtent_072016.geojson', function (data) {
		        data.features.forEach(function (e) {
					fire_boundary.addData(data);
		        });
		    });

			//Control Layer
			L.control.layers({'NIR (8-4-3)': nir, 'SWIR (12-11-5)': swir }, {'Fire Extent (~150 kmÂ²)': fire_boundary}, {collapsed: false, position: 'bottomright'}).addTo(map);
		}

        $( document ).ready(function() {
            init();
            $("#twitter").attr('href','http://twitter.com/share?text=' + document.title.replace('|', '%7C') + '&url=' + window.location.href + '&via=remotepixel');
            $("#linkedin").attr('href','http://www.linkedin.com/shareArticle?mini=true&url=' + window.location.href + '&title='+ document.title + '&source=https://remotepixel.ca');
            $("#facebook").attr('href','https://www.facebook.com/sharer/sharer.php?u=' + window.location.href);
        });

    </script>
</body>
</html>
