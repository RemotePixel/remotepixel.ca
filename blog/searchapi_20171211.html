<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta name="description" content="Landsat/Sentinel Search API">
	<meta name="author" content="Vincent Sarago">

	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:site" content="@RemotePixel" />
	<meta name="twitter:title" content="Blog | Landsat/Sentinel Search API" />
	<meta name="twitter:description" content="Blog | Landsat/Sentinel Search API" />
	<meta name="twitter:creator" content="@_VincentS_" />
	<meta name="twitter:image:src" content="https://remotepixel.ca/blog/img/searchapi_20171211/landsat_grid.jpg" />

	<meta property="og:title" content="Blog |Landsat/Sentinel Search API" />
	<meta property="og:url" content="https://remotepixel.ca/blog/searchapi_20171211.html" />
	<meta property="og:image" content="https://remotepixel.ca/blog/img/searchapi_20171211/landsat_grid.jpg" />
	<meta property="og:description" content="Blog | Landsat/Sentinel Search API" />
	<meta property="og:site_name" content="Remote Pixel" />

	<title>Blog | Landsat/Sentinel Search API</title>

	<!-- Bootstrap Core CSS -->
	<link href="/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link href="/css/rpix_general.min.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link href="/css/rpix_blogpost.min.css" rel="stylesheet">

	<!-- Custom Fonts -->
	<link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	    <![endif]-->
	<style>
		.topimage {
	    background: url(/blog/img/searchapi_20171211/top.jpg) no-repeat bottom center scroll;
	    background-position: center;
	    background-size: cover;
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
		}
		.post-content{
			padding-top: 15px;
		}

	</style>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-60678866-1', 'auto');
        ga('send', 'pageview');
    </script>
</head>

<body id="page-top" data-target=".navbar-fixed-top">
	<!-- Navigation -->
	<nav class="navbar navbar-custom navbar-fixed-top top-nav-collapse" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
					<i class="fa fa-bars" style="color: #fff"></i>
				</button>
				<a class="navbar-brand page-scroll" href="/blog/index.html#searchapi">
					<i class="fa fa-play-circle"></i>
					<span class="light">back to Blog</span>
				</a>
			</div>
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse navbar-right navbar-main-collapse">
				<ul class="nav navbar-nav">
					<!-- Hidden li included to remove active class from about link when scrolled up past about section -->
					<li class="hidden"><a href="#page-top"></a></li>
					<li><a class="glyphicon glyphicon-home" href="/"></a></li>
          <li><a href="/projects/index.html">projects</a></li>
          <li><a href="/blog/index.html">Blog</a></li>
          <li><a href="/contact.html">Contact</a></li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container -->
	</nav>

    <a id="back-to-top" href="#page-top" class="display-none">
        <i class="fa fa-level-up"></i>
        back to top
    </a>

	<div class="entete-blog topimage">
		<div class="titre">
		    <h1>Search API</h1>
        </div>
		<div class="landsat_copyright">
			&copy; Landsat imagery courtesy of NASA Goddard Space Flight<br>
			Center and U.S. Geological Survey
		</div>
	</div>

	<div class="post-content">
    <div class="corps">

			<p><strong>TL & DR: Using Vector tiles and AWS Lambda, we can build a really simple API to get Landsat and Sentinel images.</strong></p>

			<h4>Stats</h4>

			<p>I'll start this blog post by giving some stats. Today, about 200 to 400 peoples will drop by <a href="https://remotepixel.ca/" target="_blank">RemotePixel.ca</a>.
				Most of them (80%) will use <a href="https://remotepixel.ca/projects/satellitesearch.html" target="_blank">Satellite Search</a>,
				and spend about 3min to search for Landsat or Sentinel images.</p>
			<p>Last month, people from no less than <strong>101</strong> countries have visited the web site (note: Russia is excluded because there was too many bots messing with my stats).
				With Brazil by far ahead of the US I should maybe think about translating RemotePixel in PortuguÃªs ("obrigado").</p>

			<img class="img-responsive" src="img/searchapi_20171211/stats.jpg">
			<titre-img>Week49 GoogleAnalytics statistics</titre-img>

			<h4>API</h4>

			<p>If you alread don't know it, most of RemotePixel project are powered by DeveloppmentSeed <a href="https://github.com/sat-utils" target="_blank">Sat-API</a>.
				I love sat-api and most of the project I've done won't have been possible without it.</p>

			<p><strong>Sat-api</strong> is a complete API in front of a geospatial database (ElasticSearch) which enable to do all sort of query.
				The database stores information about Landsat and Sentinel data that have been acquired but doesn't know if the
				data have been ingested on S3. Sadly this information is crutial for most of remotepixel's projects.</p>

			<p>While I tried to work on sat-api, I realised that project like <a href="https://remotepixel.ca/projects/satellitesearch.html" target="_blank">Satellite Search</a>
				or <a href="https://viewer.remotepixel.ca" target="_blank">Viewer</a> didn't need to do spatial requests.
				Those projects are based on Vector tiles + Mapbox-gl-js to help the user selects the Landsat or Sentinel `grid`
				they want images from, then I'm calling sat-api giving the grid information.</p>

			<h5>A <s>dumb</s> simple approach</h5>
			<p>On AWS, Landsat and Sentinel images are stored by their grid information, so it's `easy` to get the list of files for each grid selected!</p>

			<img class="img-responsive" src="img/searchapi_20171211/landsat_grid.jpg">
			<titre-img>Grid information to sceneid</titre-img>

			<p>The API is in fact `just a script` that list files on AWS S3! No database, No daily update, 100% up-to-date ðŸŽ‰.</p>

			<p>By default it is capable of creating some simple metadata by just parsing Landsat and Sentinel file paths (date, processing level...) and can return a more complete scene info by reading each metadata file.</p>

			<p>The code is available on <a href="https://github.com/RemotePixel/aws-sat-api" target="_blank">aws-sat-api</a> repo</p>

			<p>As of today, <a href="https://viewer.remotepixel.ca" target="_blank">viewer.remotepixel.ca</a> is fully powered by this API.
				But don't get me wrong, this is a really simple API that is not as powerfull as sat-api. Here are some pro/cons.</p>

			<h5>PRO</h5>
			<ul>
				<li>AWS Pre and C1 Landsat collections</li>
				<li>True color RGB file path for Landsat-8</li>
				<li>Sentinel-2A and B</li>
				<li>No database dependency</li>
				<li>Always up to date</li>
				<li>Cheap</li>
			</ul>

			<h5>CONS</h5>
			<ul>
		    <li>No spatial query</li>
				<li>No complex query</li>
				<li>Slower (3-5 sec per request)</li>
				<li>AWS only</li>
			</ul>
		</div>

	    <ul class="info-blogpost">
		    <li>Date: December 2017</li>
				<li>Category: AWS / API / Landsat / Sentinel</li>
			</ul>

        <!-- Footer -->
        <footer>
          <div class="text-center">
            <a id="twitter" class="sharebutt" href="" title="Share on Twitter" target="_blank">
              <i class="fa fa-twitter"></i>
            </a>

            <a id="linkedin" class="sharebutt" href="" title="Share on LinkedIn" target="_blank">
              <i class="fa fa-linkedin"></i>
            </a>

            <a id="facebook" class="sharebutt" href="" title="Share on Facebook" target="_blank">
              <i class="fa fa-facebook"></i>
            </a>
          </div>
        </footer>

	</div> <!-- /post-content -->

	<!-- jQuery -->
	<script src="/js/jquery.js"></script>
  <script src="/js/jquery.easing.min.js"></script>

	<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="/js/bootstrap.min.js"></script>

	<!-- general Theme JavaScript -->
	<script src="/js/rpix_blogpost.js"></script>
  <script>
    $( document ).ready(function() {
      $("#twitter").attr('href','http://twitter.com/share?text=' + document.title.replace('|', '%7C') + '&url=' + window.location.href + '&via=RemotePixel');
      $("#linkedin").attr('href','http://www.linkedin.com/shareArticle?mini=true&url=' + window.location.href + '&title='+ document.title + '&source=https://remotepixel.ca');
      $("#facebook").attr('href','https://www.facebook.com/sharer/sharer.php?u=' + window.location.href);
    });
  </script>
</body>
</html>
