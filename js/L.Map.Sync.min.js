(function(){L.Map=L.Map.extend({sync:function(b,a){this._initSync();a=a||{};var c=false;this._syncMaps.forEach(function(d){if(b===d){c=true}});if(!c){this._syncMaps.push(b)}if(!a.noInitialSync){b.setView(this.getCenter(),this.getZoom(),{animate:false,reset:true})}return this},unsync:function(b){var a=this;if(this._syncMaps){this._syncMaps.forEach(function(d,c){if(b===d){a._syncMaps.splice(c,1)}})}return this},isSynced:function(){return(this.hasOwnProperty("_syncMaps")&&Object.keys(this._syncMaps).length>0)},_initSync:function(){if(this._syncMaps){return}var a=this;this._syncMaps=[];L.extend(a,{setView:function(b,e,c,d){if(!d){a._syncMaps.forEach(function(f){f.setView(b,e,c,true)})}return L.Map.prototype.setView.call(this,b,e,c)},panBy:function(d,b,c){if(!c){a._syncMaps.forEach(function(e){e.panBy(d,b,true)})}return L.Map.prototype.panBy.call(this,d,b)},_onResize:function(c,b){if(!b){a._syncMaps.forEach(function(d){d._onResize(c,true)})}return L.Map.prototype._onResize.call(this,c)}});a.on("zoomend",function(){a._syncMaps.forEach(function(b){b.setView(a.getCenter(),a.getZoom(),{animate:false,reset:false})})},this);a.dragging._draggable._updatePosition=function(){L.Draggable.prototype._updatePosition.call(this);var b=this;a._syncMaps.forEach(function(c){L.DomUtil.setPosition(c.dragging._draggable._element,b._newPos);c.eachLayer(function(d){if(d._google!==undefined){d._google.setCenter(a.getCenter())}});c.fire("moveend")})}}})})();